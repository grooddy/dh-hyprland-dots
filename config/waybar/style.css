@import "../../.cache/matugen/colors-waybar.css";

/* --- ГЛОБАЛЬНЫЕ НАСТРОЙКИ --- */
* {
    /* SF Pro — это база премиальности. Если нет, Inter — лучший заменитель */
    font-family: "SF Pro Display", "SF Pro Rounded", "Inter", sans-serif;
    font-size: 15px;
    font-weight: 600;
    transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    color: @text;
    -gtk-icon-transform: scale(1.15);
    text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);
    letter-spacing: -0.3px;
}

window#waybar {
    background-color: transparent;
}

/* --- СТИЛИ ОСТРОВОВ (DYNAMNIC ISLANDS) --- */
.modules-left,
.modules-center,
.modules-right {
    /* Эффект матового стекла: очень низкая альфа, чтобы Hyprland сделал остальное */
    background: alpha(@surface, 0.25);

    /* Rim Lighting: создаем эффект блика на верхней грани стекла */
    border: 1px solid alpha(@outline, 0.08);
    border-top: 1px solid alpha(@surface_bright, 0.45);

    /* Tahoe стиль: мягкий прямоугольник (Squircle) вместо банальной капсулы */
    border-radius: 20px;

    padding: 2px 12px;
    margin: 20px 0 100px 0;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
}

/* Эффект при наведении — стекло "наполняется" светом */
.modules-left:hover,
.modules-center:hover,
.modules-right:hover {
    background: alpha(@surface, 0.45);
    border: 1px solid alpha(@outline, 0.2);
    box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15);
}

/* --- МОДУЛИ: ДЕТАЛИЗАЦИЯ --- */

/* 1. APPLE LOGO (Системное меню) */
#custom-apple {
    font-size: 18px;
    color: @text;
    padding: 0 12px 0 4px;
    opacity: 0.9;
}

/* 2. WORKSPACES (Минималистичные индикаторы) */
#workspaces button {
    color: alpha(@text, 0.3);
    padding: 0 8px;
    margin: 4px 2px;
}

#workspaces button.active {
    color: @text;
    background: alpha(@text, 0.1);
    border-radius: 12px;
    min-width: 25px; /* Активный элемент чуть "расширяется" */
}

#workspaces button:hover {
    color: @text;
    background: alpha(@text, 0.05);
    border-radius: 12px;
}

/* 3. CLOCK (Центральный акцент) */
#clock {
    font-family: "SF Pro Rounded";
    font-weight: 700;
    font-size: 15px;
    letter-spacing: -0.5px;
    color: @text;
    padding: 0 10px;
}

/* 4. ГРУППЫ И МОДУЛИ СПРАВА */
#group-hardware,
#group-controls,
#group-system {
    border-radius: 14px;
}

#pulseaudio,
#backlight,
#battery,
#language,
#tray,
#custom-notification {
    padding: 0 10px;
    margin: 0 2px;
}
/* Аккуратный индикатор батареи */
#battery.charging {
    color: #2ecc71;
}
#battery.warning {
    color: #f1c40f;
}
#battery.critical {
    color: #e74c3c;
}

/* Трей: делаем иконки более элегантными */
#tray > .passive {
    opacity: 0.6;
}
#tray > .needs-attention {
    color: @error;
}

#custom-power {
    background-color: alpha(@surface0, 0.7);
    padding: 0 12px;
    margin: 4px 0;
    border-radius: 8px;
    transition: all 0.3s ease;
}

/* Красный акцент для максимальной мощности */
#custom-power.perf {
    color: #f38ba8;
    border-bottom: 2px solid #f38ba8;
}

/* Зеленый акцент для тихого режима */
#custom-power.quiet {
    color: #a6e3a1;
    border-bottom: 2px solid #a6e3a1;
}

/* Синий или нейтральный для баланса */
#custom-power.balanced {
    color: #89b4fa;
}
/* --- СТИЛИЗАЦИЯ ВСПОМОГАТЕЛЬНЫХ ОКОН (TOOLTIPS) --- */
tooltip {
    /* Фон делаем чуть плотнее, чем панель, чтобы текст читался */
    background: alpha(@surface, 0.25);
    border-radius: 12px;
    border: 1px solid alpha(@outline, 0.08);
    border-top: 1px solid alpha(@surface_bright, 0.45);
    padding: 0 5px;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
}

tooltip label {
    /* Текст внутри тултипа */
    color: @text;
    font-family:
        "SF Pro Display", "SF Pro Rounded", "JetBrainsMono Nerd Font",
        "Cascadia Code", monospace;
    font-size: 14px;
}

/* --- МОДУЛИ: ИНДИВИДУАЛЬНОЕ ПОВЕДЕНИЕ (ЭФФЕКТ СТЕКЛА) --- */

/* Селектор для всех модулей внутри Waybar */
#custom-apple,
#workspaces,
#clock,
#pulseaudio,
#backlight,
#battery,
#language,
#tray,
#custom-notification,
#custom-power,
#custom-gpu {
    padding: 0 10px;
    margin: 2px 4px; /* Горизонтальный отступ между модулями */
    border-radius: 12px;
    background: transparent; /* В покое фона нет */
}

/* Эффект при наведении на ЛЮБОЙ конкретный элемент */
#custom-apple:hover,
#clock:hover,
#pulseaudio:hover,
#backlight:hover,
#battery:hover,
#language:hover,
#tray:hover,
#custom-notification:hover,
#custom-power:hover,
#custom-gpu:hover {
    background: alpha(@surface_bright, 0.15); /* Мягкое "наполнение" светом */
    box-shadow: inset 0 0 0 1px alpha(@surface_bright, 0.2); /* Тонкий внутренний блик */
    -gtk-icon-transform: scale(1.2); /* Иконка чуть увеличивается */
}

/* --- КОРРЕКЦИЯ ГРУПП (ОСТРОВОВ) --- */
.modules-right {
    padding-right: 8px; /* Дополнительный отступ справа */
}

/* Чтобы иконки в трее не слипались */
#tray {
    margin-right: 10px;
}
#tray menu {
    background: alpha(@surface, 0.95);
    border-radius: 12px;
}
